.camera-frame {
border: 3px solid #3B82F6;
border-radius: 12px;
position: relative;
overflow: hidden;
}

.scan-line {
position: absolute;
top: 0;
left: 0;
right: 0;
height: 2px;
background: linear-gradient(90deg, transparent, #10B981, transparent);
animation: scan 2s linear infinite;
}

@keyframes scan {
0% { transform: translateY(0); }
100% { transform: translateY(300px); }
}

.result-card {
transform: translateY(20px);
opacity: 0;
animation: slideUp 0.5s ease-out forwards;
}

@keyframes slideUp {
to {
transform: translateY(0);
opacity: 1;
}
}

.pulse-dot {
animation: pulse 2s infinite;
}

@keyframes pulse {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}
</style>
<div class="grid lg:grid-cols-2 gap-8">
    <!-- Camera Section -->
    <div class="bg-white rounded-2xl shadow-xl p-6">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
            üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö
            <span class="ml-2 w-3 h-3 bg-green-500 rounded-full pulse-dot"></span>
        </h2>

        <div class="camera-frame bg-gray-100 aspect-video mb-4 flex items-center justify-center relative">
            <div class="scan-line"></div>
            <div id="cameraView" class="w-full h-full flex items-center justify-center">
                <div class="text-center">
                    <div class="text-6xl mb-4">üì∏</div>
                    <p class="text-gray-500">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</p>
                </div>
            </div>
        </div>

        <div class="flex gap-4">
            <button id="startCamera"
                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                üé• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á
            </button>
            <button id="captureBtn"
                class="flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors"
                disabled>
                üì∏ ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û
            </button>
        </div>

        <!-- Upload Option -->
        <div class="mt-4 pt-4 border-t border-gray-200">
            <label class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û:</label>
            <input type="file" id="imageUpload" accept="image/*" class="w-full p-2 border border-gray-300 rounded-lg">
        </div>
    </div>

    <!-- Results Section -->
    <div class="bg-white rounded-2xl shadow-xl p-6">
        <h2 class="text-2xl font-semibold text-gray-800 mb-4">üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h2>

        <div id="resultsContainer" class="space-y-4">
            <div class="text-center text-gray-500 py-8">
                <div class="text-4xl mb-4">üîç</div>
                <p>‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏™‡∏î‡∏∏...</p>
            </div>
        </div>

        <!-- Statistics -->
        <div class="mt-6 pt-6 border-t border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">üìà ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</h3>
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-blue-600" id="bottleCount">0</div>
                    <div class="text-sm text-blue-800">‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥</div>
                </div>
                <div class="bg-orange-50 p-4 rounded-lg text-center">
                    <div class="text-2xl font-bold text-orange-600" id="canCount">0</div>
                    <div class="text-sm text-orange-800">‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Information Cards -->
<div class="grid md:grid-cols-2 gap-6 mt-8">
    <div class="bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-semibold text-blue-600 mb-4 flex items-center">
            üçº ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥
        </h3>
        <ul class="space-y-2 text-gray-700">
            <li class="flex items-start">
                <span class="text-blue-500 mr-2">‚Ä¢</span>
                ‡∏ó‡∏£‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡πÉ‡∏™ ‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å PET
            </li>
            <li class="flex items-start">
                <span class="text-blue-500 mr-2">‚Ä¢</span>
                ‡∏ù‡∏≤‡∏õ‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏•‡∏´‡∏∞ ‡πÄ‡∏õ‡∏¥‡∏î‡∏á‡πà‡∏≤‡∏¢
            </li>
            <li class="flex items-start">
                <span class="text-blue-500 mr-2">‚Ä¢</span>
                ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ú‡∏¥‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö
            </li>
            <li class="flex items-start">
                <span class="text-green-500 mr-2">‚ôªÔ∏è</span>
                <strong>‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•:</strong> ‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÅ‡∏¢‡∏Å‡∏ù‡∏≤‡∏≠‡∏≠‡∏Å
            </li>
        </ul>
    </div>

    <div class="bg-white rounded-2xl shadow-lg p-6">
        <h3 class="text-xl font-semibold text-orange-600 mb-4 flex items-center">
            ü•§ ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á
        </h3>
        <ul class="space-y-2 text-gray-700">
            <li class="flex items-start">
                <span class="text-orange-500 mr-2">‚Ä¢</span>
                ‡∏ó‡∏£‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡πÇ‡∏•‡∏´‡∏∞ ‡∏≠‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡πá‡∏Å
            </li>
            <li class="flex items-start">
                <span class="text-orange-500 mr-2">‚Ä¢</span>
                ‡∏ù‡∏≤‡∏õ‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠
            </li>
            <li class="flex items-start">
                <span class="text-orange-500 mr-2">‚Ä¢</span>
                ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡πÅ‡∏™‡∏á‡∏™‡∏π‡∏á ‡∏ú‡∏¥‡∏ß‡πÄ‡∏á‡∏≤
            </li>
            <li class="flex items-start">
                <span class="text-green-500 mr-2">‚ôªÔ∏è</span>
                <strong>‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•:</strong> ‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏¢‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô
            </li>
        </ul>
    </div>
</div>
</div>

<script>
    let stream = null;
    let bottleCount = 0;
    let canCount = 0;

    const startCameraBtn = document.getElementById('startCamera');
    const captureBtn = document.getElementById('captureBtn');
    const cameraView = document.getElementById('cameraView');
    const resultsContainer = document.getElementById('resultsContainer');
    const imageUpload = document.getElementById('imageUpload');

    // Simulated AI detection results
    const detectionResults = [
        {
            type: 'bottle',
            confidence: 0.95,
            material: '‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å PET',
            recyclable: true,
            tips: '‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÅ‡∏¢‡∏Å‡∏ù‡∏≤‡∏≠‡∏≠‡∏Å ‡πÉ‡∏™‡πà‡∏ñ‡∏±‡∏á‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô'
        },
        {
            type: 'can',
            confidence: 0.92,
            material: '‡∏≠‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°',
            recyclable: true,
            tips: '‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏¢‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô ‡πÉ‡∏™‡πà‡∏ñ‡∏±‡∏á‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á'
        },
        {
            type: 'bottle',
            confidence: 0.88,
            material: '‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å HDPE',
            recyclable: true,
            tips: '‡∏•‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏ñ‡∏≠‡∏î‡∏â‡∏•‡∏≤‡∏Å‡∏≠‡∏≠‡∏Å ‡πÉ‡∏™‡πà‡∏ñ‡∏±‡∏á‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô'
        }
    ];

    startCameraBtn.addEventListener('click', async () => {
        try {
            // Request camera access
            stream = await navigator.mediaDevices.getUserMedia({
                video: {
                    width: { ideal: 640 },
                    height: { ideal: 480 },
                    facingMode: 'environment' // Use back camera on mobile
                }
            });

            // Create video element
            const video = document.createElement('video');
            video.srcObject = stream;
            video.autoplay = true;
            video.playsInline = true;
            video.className = 'w-full h-full object-cover rounded-lg';

            cameraView.innerHTML = '';
            cameraView.appendChild(video);

            startCameraBtn.textContent = 'üü¢ ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß';
            startCameraBtn.disabled = true;
            captureBtn.disabled = false;

        } catch (error) {
            console.error('Camera error:', error);
            let errorMessage = '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ';

            if (error.name === 'NotAllowedError') {
                errorMessage = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå';
            } else if (error.name === 'NotFoundError') {
                errorMessage = '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ';
            } else if (error.name === 'NotSupportedError') {
                errorMessage = '‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á';
            }

            cameraView.innerHTML = `
                <div class="w-full h-full bg-red-50 flex items-center justify-center text-center p-4">
                    <div>
                        <div class="text-4xl mb-4">‚ùå</div>
                        <p class="text-red-600 font-medium">${errorMessage}</p>
                        <p class="text-sm text-gray-600 mt-2">‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ</p>
                    </div>
                </div>
            `;
        }
    });

    captureBtn.addEventListener('click', () => {
        if (stream) {
            // Capture frame from video stream
            const video = cameraView.querySelector('video');
            if (video) {
                const canvas = document.createElement('canvas');
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0);

                // Show captured image
                const capturedImage = canvas.toDataURL('image/jpeg');
                cameraView.innerHTML = `
                    <img src="${capturedImage}" class="w-full h-full object-cover rounded-lg">
                `;

                // Stop camera stream
                stream.getTracks().forEach(track => track.stop());
                stream = null;

                // Reset buttons
                startCameraBtn.textContent = 'üé• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á';
                startCameraBtn.disabled = false;
                captureBtn.disabled = true;
            }
        }

        simulateDetection();
    });

    imageUpload.addEventListener('change', (e) => {
        if (e.target.files[0]) {
            const reader = new FileReader();
            reader.onload = (e) => {
                cameraView.innerHTML = `
                    <img src="${e.target.result}" class="w-full h-full object-cover rounded-lg">
                `;
                setTimeout(() => simulateDetection(), 1000);
            };
            reader.readAsDataURL(e.target.files[0]);
        }
    });

    function simulateDetection() {
        // Show processing
        resultsContainer.innerHTML = `
            <div class="text-center py-8">
                <div class="animate-spin text-4xl mb-4">üîÑ</div>
                <p class="text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏û...</p>
            </div>
        `;

        setTimeout(() => {
            const result = detectionResults[Math.floor(Math.random() * detectionResults.length)];
            displayResult(result);
            updateStats(result.type);
        }, 2000);
    }

    function displayResult(result) {
        const isBottle = result.type === 'bottle';
        const icon = isBottle ? 'üçº' : 'ü•§';
        const bgColor = isBottle ? 'bg-blue-50 border-blue-200' : 'bg-orange-50 border-orange-200';
        const textColor = isBottle ? 'text-blue-800' : 'text-orange-800';
        const confidence = Math.round(result.confidence * 100);

        resultsContainer.innerHTML = `
            <div class="result-card ${bgColor} border-2 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <span class="text-3xl mr-3">${icon}</span>
                        <div>
                            <h3 class="text-xl font-semibold ${textColor}">
                                ${isBottle ? '‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥' : '‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á'}
                            </h3>
                            <p class="text-sm text-gray-600">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: ${confidence}%</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="w-16 h-16 ${isBottle ? 'bg-blue-100' : 'bg-orange-100'} rounded-full flex items-center justify-center">
                            <span class="text-2xl">${icon}</span>
                        </div>
                    </div>
                </div>
                
                <div class="space-y-3">
                    <div class="flex items-center">
                        <span class="font-medium text-gray-700 w-20">‡∏ß‡∏±‡∏™‡∏î‡∏∏:</span>
                        <span class="text-gray-600">${result.material}</span>
                    </div>
                    
                    <div class="flex items-center">
                        <span class="font-medium text-gray-700 w-20">‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•:</span>
                        <span class="text-green-600 font-medium">‚úÖ ‡πÑ‡∏î‡πâ</span>
                    </div>
                    
                    <div class="mt-4 p-4 bg-green-50 rounded-lg border border-green-200">
                        <h4 class="font-medium text-green-800 mb-2">üí° ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•:</h4>
                        <p class="text-green-700 text-sm">${result.tips}</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-4 text-center">
                <button onclick="simulateDetection()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors">
                    üîÑ ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà
                </button>
            </div>
        `;
    }

    function updateStats(type) {
        if (type === 'bottle') {
            bottleCount++;
            document.getElementById('bottleCount').textContent = bottleCount;
        } else {
            canCount++;
            document.getElementById('canCount').textContent = canCount;
        }
    }
</script>